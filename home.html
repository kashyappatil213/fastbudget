<!DOCTYPE html>
<html lang="en" ng-app="fastApp">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FastBudget Dashboard</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>

<style>
    body {
        background: linear-gradient(135deg, #eef0ff, #f7f8ff);
    }
    .box {
        max-width: 900px;
        margin: 40px auto;
        background: white;
        padding: 30px;
        border-radius: 14px;
        box-shadow: 0 6px 18px rgba(0,0,0,0.12);
    }
    .welcome {
        color: #3f3d8f;
        font-weight: 600;
    }
    .card-custom {
        border-radius: 14px;
        padding: 22px;
        height: 100%;
        text-align: center;
        border: none;
        background: #fafbff;
    }
    .card-custom h4 {
        color: #3f3d8f;
        margin-bottom: 8px;
    }
    .card-custom p {
        font-size: 14px;
        color: #666;
    }

    /* --- Modern Lavender Buttons --- */
    .btn-theme {
        background: linear-gradient(135deg, #c6b9f1, #a694f9);
        color: #fff;
        font-weight: 500;
        border-radius: 8px;
        transition: all 0.3s ease;
    }
    .btn-theme:hover {
        background: linear-gradient(135deg, #a694f9, #8b7cf5);
        color: #fff;
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }

    .btn-dark {
        border-radius: 8px;
        font-weight: 500;
        transition: all 0.3s ease;
    }
    .btn-dark:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }
</style>
</head>

<body ng-controller="homeCtrl">

<div class="box">

    <h3 class="text-center mb-4 welcome">
        Welcome, {{username}}
    </h3>

    <div class="row g-3">

        <div class="col-md-6">
            <div class="card card-custom shadow-sm">
                <h4>Assets</h4>
                <p>Track cash, investments and properties</p>
                <a href="assets.html" class="btn btn-theme w-100">Manage Assets</a>
            </div>
        </div>

        <div class="col-md-6">
            <div class="card card-custom shadow-sm">
                <h4>Debts</h4>
                <p>Credit cards and loans overview</p>
                <a href="debts.html" class="btn btn-theme w-100">View Debts</a>
            </div>
        </div>

        <div class="col-md-6">
            <div class="card card-custom shadow-sm">
                <h4>Monthly Spending</h4>
                <p>Track daily and monthly expenses</p>
                <a href="expenses.html" class="btn btn-theme w-100">Track Spending</a>
            </div>
        </div>

        <div class="col-md-6">
            <div class="card card-custom shadow-sm">
                <h4>Transactions</h4>
                <p>Complete financial transaction history</p>
                <a href="transaction.html" class="btn btn-theme w-100">View Transactions</a>
            </div>
        </div>

        <div class="col-md-12">
            <div class="card card-custom shadow-sm">
                <h4>Income</h4>
                <p>Salary, freelancing and other income</p>
                <a href="income.html" class="btn btn-theme w-100">Add Income</a>
            </div>
        </div>

    </div>

    <button class="btn btn-dark w-100 mt-4" ng-click="logout()">Logout</button>

</div>

<script>
angular.module("fastApp", [])
.controller("homeCtrl", function($scope, $http) {

    $http.get("home.php").then(function(response) {

        if (response.data.error === "NOT_LOGGED_IN") {
            window.location.href = "login.html";
        }

        $scope.username = response.data.username;
        $scope.assets = response.data.assets;
    });

    $scope.logout = function () {
        window.location.href = "logout.php";
    };
});
</script>

</body>
</html>
