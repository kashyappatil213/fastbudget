<!DOCTYPE html>
<html lang="en" ng-app="incomeApp">
<head>
<meta charset="UTF-8">
<title>Income</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>

<style>
body {
    background: #f3f6fa;
}
.box {
    max-width: 900px;
    margin: 40px auto;
    background: white;
    padding: 25px;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}
.back-btn {
    margin-top: 20px;
    text-align: center;
}
</style>
</head>

<body ng-controller="incomeCtrl">

<div class="box">

<h3 class="text-center mb-4">Add Income</h3>

<form ng-submit="addIncome()" class="card p-3 shadow-sm mb-3">

<input type="text" ng-model="Title" placeholder="Income Title" class="form-control mb-2" required>

<input type="number" ng-model="Amount" placeholder="Amount" class="form-control mb-2" required>

<select ng-model="Category" class="form-control mb-2" required>
<option value="">Select Category</option>
<option>Salary</option>
<option>Freelance</option>
<option>Business</option>
<option>Other</option>
</select>

<input type="date" ng-model="IncomeDate" class="form-control mb-3" required>

<button class="btn btn-success w-100">Add Income</button>

</form>

<div class="alert alert-success text-center" ng-show="message">
{{message}}
</div>

<div class="back-btn">
<a href="home.html" class="btn btn-secondary w-100">Back to Home</a>
</div>

</div>

<script>
angular.module("incomeApp", [])
.controller("incomeCtrl", function($scope, $http){

    $scope.addIncome = function(){

        let data = {
            Title: $scope.Title,
            Amount: $scope.Amount,
            Category: $scope.Category,
            IncomeDate: $scope.IncomeDate
        };

        $http.post("add_income.php", data)
        .then(function(res){
            if(res.data.status === "success"){
                $scope.message = "Income added successfully";
                $scope.Title = "";
                $scope.Amount = "";
                $scope.Category = "";
                $scope.IncomeDate = "";
            }
        });
    };

});
</script>

</body>
</html>
